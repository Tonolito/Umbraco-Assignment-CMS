@inherits Umbraco.Cms.Web.Common.Views.UmbracoViewPage<IPageBanner>
@using Umbraco.Cms.Core.PublishedCache
@using Umbraco.Cms.Core.Routing
@using Umbraco.Cms.Core.Services.Navigation

@inject IPublishedContentCache PublishedContentCache
@inject IDocumentNavigationQueryService DocumentNavigationQueryService
@inject IPublishedUrlProvider PublishedUrlProvider


@{
    var selection = Model.Ancestors().ToArray();

    var homePAgeDisplayName = "Home";
    var isFirstItem = true;

  
    var bannerBgImage = Model.Value<Umbraco.Cms.Core.Models.MediaWithCrops>("bannerBgImage");
    var imageUrl = bannerBgImage?.Url();
}




<section class="breadcrumb-section" style="background-image: url('@imageUrl');">
    <div class="breadcrumb-title">
        <h2>@Model.PageTitle</h2>
    </div>
    @if (selection?.Length > 0)
    {
        <ul class="breadcrumb">
            @foreach (var item in selection.OrderBy(x => x.Level))
            {
                var displayName = isFirstItem ? homePAgeDisplayName : item.Name;
                <li>
                    <a href="@item.Url(PublishedUrlProvider)">
                        @displayName
                    </a> 
                    <i class="fa-solid fa-angle-right"></i>
                </li>
                isFirstItem = false;
            }

            <li class="active">
                <p>@Model.Name</p>
            </li>
        </ul>
    }
</section>